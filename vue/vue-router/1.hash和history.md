# 路由模式

## hash模式
> hash —— 即地址栏 URL 中的 # 符号（此 hash 不是密码学里的散列运算）。比如这个 URL：http://www.abc.com/#/hello   hash的值为 #/hello。

### hash的特点

- hash 虽然出现在 URL中，但不会被包括在 HTTP 请求中，对后端完全没有影响，

- hash 值的改变，都会在浏览器的访问历史中增加一个记录。因此我们能通过浏览器的回退、前进  按钮控制hash 的切换；

- 可以通过 a 标签，并设置 href 属性，当用户点击这个标签后，URL 的 hash 值会发生改变；或者使用 JavaScript 来对 loaction.hash 进行赋值，改变 URL 的 hash 值；

- 我们可以使用 hashchange 事件来监听 hash 值的变化，从而对页面进行跳转（渲染）






## history模式
>history —— 利用了 HTML5 History Interface 中新增的 pushState() 和 replaceState() 方法
这两个 API 可以在不进行刷新的情况下，操作浏览器的历史纪录。唯一不同的是，前者是新增一 
个历史记录，后者是直接替换当前的历史记录

```js
window.history.pushState(state, title, url);
window.history.replaceState(null, null, path);
```

### history的特点

- history 路由：监听 url 中的路径变化，需要客户端和服务端共同的支持,前端的 URL 必须和实际向后端发起请求的 URL 一致，如 http://www.abc.com/book/id 如果后端缺少对 /book/id 的路由处理，将返回 404 错误；

- 在 history 路由中，我们一定会使用window.history中的方法，常见的操作有：

  1. back()：后退到上一个路由；
  2. forward()：前进到下一个路由，如果有的话；
  3. go(number)：进入到任意一个路由，正数为前进，负数为后退；
  4. pushState(obj, title, url)：前进到指定的 URL，不刷新页面；
  5. replaceState(obj, title, url)：用 url 替换当前的路由，不刷新页面；
  6. 可以使用popstate 事件来监听 url 的变化，从而对页面进行跳转（渲染）,history.pushState() 或 history.replaceState() 不会触发 popstate 事件，这时我们需要手动触发页面跳转（渲染）。只有用户点击浏览器倒退按钮和前进按钮，或者使用 JavaScript 调用History.back()、History.forward()、History.go()方法时才会触发popstate 事件(另外，该事件只针对同一个文档，如果浏览历史的切换，导致加载不同的文档，该事件也不会触发。)




